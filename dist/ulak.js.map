{
  "version": 3,
  "sources": ["../src/index.js", "../src/version.js", "../src/isSSR.js", "../src/eventNames.js", "../src/generateFileName.js", "../src/preparePayload.js", "../src/isDebugEnabled.js", "../src/payloadsFromIframes.js", "../src/screenshot-button/screenshot-button.js", "../src/bug-report-button/bug-report-button.js", "../src/translations.js", "../src/token.js", "../src/downloadFile.js", "../src/logSender.js", "../src/eventHandlers.js", "../src/consoleInterceptor.js"],
  "sourcesContent": ["import {getLogs, clearLogs, interceptConsole } from './consoleInterceptor';\nimport {LONG_VERSION} from './version';\n\nexport {getLogs, clearLogs, interceptConsole};\n\nconsole.info(LONG_VERSION);\n\n/*\nDevelopment sources:\nhttps://stackoverflow.com/questions/13815640/a-proper-wrapper-for-console-log-with-correct-line-number\n\n*/\n", "const VERSION = \"0.0.13\";\nconst LONG_VERSION = `Ulak bug reporter v${VERSION}`;\nexport {VERSION};\nexport {LONG_VERSION};\n", "const IS_ON_BROWSER = typeof window === 'object';\nconst IS_SSR = !IS_ON_BROWSER;\nexport {IS_SSR, IS_ON_BROWSER}\n", "const EVENT_NAME_PREFIX = 'ULAK_';\n\nconst AUTH_TOKEN_READY_EVENT_NAME = `${EVENT_NAME_PREFIX}AUTH_TOKEN_READY`;\n\nconst PREPARE_PAYLOAD_REQUEST = `${EVENT_NAME_PREFIX}PREPARE_PAYLOAD_REQUEST`;\nconst RETRIEVE_PAYLOAD_REQUEST = `${EVENT_NAME_PREFIX}RETRIEVE_PAYLOAD_REQUEST`;\nconst RETRIEVE_PAYLOAD_RESPONSE = `${EVENT_NAME_PREFIX}RETRIEVE_PAYLOAD_RESPONSE`;\n\nexport {AUTH_TOKEN_READY_EVENT_NAME, PREPARE_PAYLOAD_REQUEST, RETRIEVE_PAYLOAD_REQUEST, RETRIEVE_PAYLOAD_RESPONSE}\n", "import {IS_SSR} from \"./isSSR\";\n\nconst TENANT_ID = IS_SSR ? \"SSR\" : getTenantId();\n\nexport default function generateFileName() {\n  return `GrispiBugReport_${TENANT_ID}_${new Date().toISOString().split('.')[0]}`;\n}\n\nfunction getTenantId() {\n  if (window.location.host.match(/(grispi\\.com|grispi\\.net|grispi\\.dev)/)) {\n    return window.location.host.split('.')[0];\n  }\n  return window.location.host;\n}\n", "import {getLogs, STORAGE_KEY} from \"./consoleInterceptor\";\nimport generateFileName from \"./generateFileName\";\n\nlet logsReadyPromise = null;\nlet payload = null;\n\nexport function preparePayload(screenshotBlob, message) {\n  // Prepare payload for this page\n  logsReadyPromise = new Promise((resolve, reject) => {\n\n    const meta = calculateMeta();\n    const lStorage = JSON.stringify(localStorage, 0, 2);\n    const sStorage = serializeSessionStorageWithoutUlakData();\n    const cookie = document.cookie;\n    const fileName = generateFileName();\n    const logs = getLogs();\n\n    payload = {\n      meta,\n      cookie,\n      lStorage,\n      sStorage,\n      logs,\n      fileName,\n      message\n    };\n\n    if (screenshotBlob) {\n      payload.screenshot = screenshotBlob;\n    }\n\n    resolve(payload);\n  });\n  return logsReadyPromise;\n}\n\nexport function getPayload() {\n  if (logsReadyPromise == null) {\n    throw new Error(\"Illegal state: 'getPayload()' is called before 'preparePayload()'!\");\n  }\n  return logsReadyPromise;\n}\n\n// ==================== PRIVATE FUNCTIONS ====================\n\nfunction serializeSessionStorageWithoutUlakData() {\n  const sStorageClone = JSON.parse(JSON.stringify(sessionStorage));\n  Object.keys(sessionStorage).filter(key => key.startsWith(STORAGE_KEY)).forEach(key => delete sStorageClone[key]);\n  return JSON.stringify(sStorageClone, 0, 2);\n}\n\nfunction calculateMeta() {\n  const now = new Date();\n  return JSON.stringify({\n    url: location.href,\n    lang: window.navigator.language,\n    userAgent: window.navigator.userAgent,\n    os: window.navigator.platform, //FIXME consider switching to 'navigator.userAgentData.platform' when it's fully supported. https://developer.mozilla.org/en-US/docs/Web/API/Navigator/platform\n    date: now.toString(),\n    epochMs: now.getTime()\n  }, null, 2);\n}\n", "export default function isDebugEnabled() {\n  return typeof window?.ulakDebug === 'boolean' && window.ulakDebug;\n}\n", "import {PREPARE_PAYLOAD_REQUEST, RETRIEVE_PAYLOAD_REQUEST} from \"./eventNames\";\nimport isDebugEnabled from \"./isDebugEnabled\";\n\nconst CONSOLE_LABEL = \"Ulak\";\nconst TIMEOUT = 5000;\nlet counter = 0;\nlet payloads = [];\n\nfunction payloadRequested() {\n  counter += 1;\n  isDebugEnabled() && console.debug(CONSOLE_LABEL, 'payloadRequested', counter);\n}\n\nfunction payloadRetrieved(payload) {\n  counter -= 1;\n  payloads.push(payload);\n  isDebugEnabled() && console.debug(CONSOLE_LABEL, 'payloadRetrieved', counter);\n}\n\nfunction payloadsReadyOrTimeout() {\n\n  document.querySelectorAll('iframe')\n    .forEach(el => {\n      el.contentWindow.postMessage({type: RETRIEVE_PAYLOAD_REQUEST}, el.src);\n      payloadRequested();\n    })\n\n  const requestedAt = new Date().getTime();\n  return new Promise((resolve, reject) => {\n    const intervalHandler = setInterval(function () {\n      const now = new Date().getTime();\n      const elapsed = now - requestedAt;\n      if (counter === 0 || elapsed > TIMEOUT) {\n        isDebugEnabled() && console.debug(CONSOLE_LABEL, 'payloadsReadyOrTimeout', 'counter', counter, 'elapsed', elapsed);\n        clearInterval(intervalHandler);\n        resolve(payloads);\n        payloads = [];\n        counter = 0;\n      }\n    }, 500);\n  });\n}\n\nfunction preparePayloadForIframes() {\n  document.querySelectorAll('iframe') // @customizationCandidate: a function to return iframes\n    .forEach(el => {\n      try {\n        el.contentWindow.postMessage({type: PREPARE_PAYLOAD_REQUEST}, el.src)\n      } catch (e) {console.error(CONSOLE_LABEL, 'preparePayloadForIframes', e)}\n    })\n}\n\nexport {preparePayloadForIframes, payloadRetrieved, payloadsReadyOrTimeout}\n", "let exportedClass;\n\nif (typeof window !== \"undefined\") {\n  class ScreenshotButton extends window.HTMLElement {\n    static #htmlContent = `\n        <style>\n          #canvas, #video {\n            display: none;\n          }\n        </style>\n        <video id=\"video\">Video stream not available.</video>\n        <canvas id=\"canvas\"></canvas>\n        <button id=\"startButton\"></button>\n      `;\n    #text;\n    #useComputedStyle;\n    #timeout;\n    #previewTargetScale;\n    #video;\n    #canvas;\n    #screenshot;\n    #removeAttributes;\n    #optionsFromAttributes;\n\n    constructor() {\n      super();\n      this.attachShadow({mode: 'open'}).innerHTML = ScreenshotButton.#htmlContent;\n    }\n\n    connectedCallback() {\n      this.#text = this.attributes.getNamedItem('text')?.value || 'Take screenshot';\n      this.#useComputedStyle = !!this.attributes.getNamedItem('use-computed-style');\n      this.#removeAttributes = this.attributes.getNamedItem('use-computed-style')?.value?.trim().toLowerCase() === 'remove';\n      this.#timeout = this.attributes.getNamedItem('timeout')?.value || '500';\n      this.#previewTargetScale = this.attributes.getNamedItem('preview-scale')?.value || '0.5';\n\n      this.#optionsFromAttributes = {\n        timeout: this.#timeout,\n        isFromInternalEvent: true\n      }\n\n      this.#video = this.shadowRoot.getElementById('video');\n      this.#canvas = this.shadowRoot.getElementById('canvas');\n      const startButton = this.shadowRoot.getElementById('startButton');\n      startButton.addEventListener('click', this.takeScreenshot.bind(this, this.#optionsFromAttributes), false);\n      startButton.innerText = this.#text;\n\n      if (this.#useComputedStyle) {\n        const computedStyle = window.getComputedStyle(this);\n        Array.from(computedStyle).forEach(key => startButton.style.setProperty(key, computedStyle.getPropertyValue(key), computedStyle.getPropertyPriority(key)));\n\n        if (this.#removeAttributes) {\n          this.removeAttribute('class');\n          this.removeAttribute('style');\n        }\n      }\n    }\n\n    /**\n     * DOM is not guaranteed to be fully loaded neither in constructor nor connectedCallback hence querying as late as\n     * possible is the easiest way.\n     * @returns {HTMLImageElement}\n     */\n    #previewTarget() {\n      return document.querySelector(this.attributes.getNamedItem('preview-target')?.value);\n    }\n\n    takeScreenshot(options) {\n      // Note that there's a second parameter which is an event\n      const isFromInternalEvent = options && options.isFromInternalEvent === true;\n      const timeout = options?.timeout || this.#optionsFromAttributes.timeout;\n\n      return new Promise((resolve, reject) => {\n        // https://github.com/w3c/mediacapture-screen-share/issues/184\n        // https://w3c.github.io/mediacapture-screen-share/#dom-displaycapturesurfacetype\n        navigator.mediaDevices.getDisplayMedia({video: {cursor: \"always\", displaySurface: \"monitor\"}, audio: false})\n          .then((stream) => {\n            this.#video.srcObject = stream;\n            this.#video.play();\n            setTimeout(() => {\n              const streamSettings = stream.getVideoTracks()[0].getSettings();\n              this.#canvas.setAttribute('width', streamSettings.width);\n              this.#canvas.setAttribute('height', streamSettings.height);\n\n              const context = this.#canvas.getContext('2d');\n              context.drawImage(this.#video, 0, 0, this.#canvas.width, this.#canvas.height);\n\n              this.#canvas.toBlob((blob) => {\n                this.#screenshot = blob;\n                resolve(blob);\n              });\n\n              // Set image to target if defined\n              const previewTarget = this.#previewTarget();\n              if (isFromInternalEvent && previewTarget instanceof HTMLImageElement) {\n                previewTarget.src = this.#canvas.toDataURL('image/png');\n                previewTarget.width = this.#canvas.width * this.#previewTargetScale;\n                previewTarget.height = this.#canvas.height * this.#previewTargetScale;\n              }\n\n              // Clear video\n              this.#video.srcObject.getTracks().forEach((track) => track.stop());\n              this.#video.srcObject = null;\n            }, timeout);\n          })\n          .catch((err) => {\n            console.error(`An error occurred: ${err}`);\n            reject(err);\n          });\n      });\n    }\n\n    /**\n     * Returns the first instance found in the document\n     */\n    static instance() {\n      return document.querySelector('screenshot-button');\n    }\n  }\n\n  window.customElements.define('screenshot-button', ScreenshotButton);\n  exportedClass = ScreenshotButton;\n} else {\n  class ScreenshotButton {\n    static instance() {\n      return document.querySelector('screenshot-button');\n    }\n  }\n  exportedClass = ScreenshotButton;\n}\n\nexport default exportedClass;\n", "import ScreenshotButton from \"../screenshot-button/screenshot-button\";\n\nlet exportedClass;\n\nif (typeof window !== \"undefined\") {\n  const textareaPlaceholderText = '(Optional) Message or bug description';\n  const sendButtonText = 'Send';\n  const sendButtonLoadingText = 'Sending...';\n  const cancelText = 'Cancel';\n  const errorText = 'Error';\n  const timeoutErrorMessage = '(TIMEOUT) Sending might not be successful, time out occurred!';\n\n  const sendTimeoutDefault = '10000';\n  const noPermitScreenCaptureImgUrl = 'https://i.imgur.com/MXRT775.png';\n\n  class BugReportButton extends window.HTMLElement {\n\n    static SEND_EVENT_NAME = 'BugReportButton:Send'\n\n    static SENDING_DONE_EVENT_NAME = 'BugReportButton:SendingDone'\n\n    static #htmlContent = `\n  \t\t\t<style>\n  \t\t\t  button {\n  \t\t\t    cursor: pointer;\n  \t\t\t  }\n  \t\t\t  button:disabled {\n  \t\t\t    pointer-events: none;\n  \t\t\t    opacity: 0.3;\n  \t\t\t  }\n  \t\t\t  section {\n  \t\t\t    backdrop-filter: blur(3px);\n            bottom: 0;\n            display: none;\n            height: auto;\n            left: 0;\n            padding: 50px;\n            position: fixed;\n            right: 0;\n            top: 0;\n            overflow: auto;\n            width: auto;\n  \t\t\t  }\n  \t\t\t  header {\n  \t\t\t      text-align: right;\n  \t\t\t  }\n  \t\t\t  main {\n            background: #f7f7f7;\n            border-radius: 3px;\n            border: 1px solid #b3adad;\n            min-height: 600px;\n            min-width: 600px;\n            padding: 1% 10%;\n            position: relative;\n  \t\t\t  }\n  \t\t\t  main > div {\n            display: flex;\n            flex-direction: column;\n  \t\t\t  }\n  \t\t\t  screenshot-button {\n  \t\t\t    display: none;\n  \t\t\t  }\n  \t\t\t  textarea {\n  \t\t\t      margin: 20px auto;\n  \t\t\t      min-width: 600px;\n  \t\t\t  }\n          #closeBtn {\n            background: none;\n            border: 0;\n            color: #555;\n            font-family: sans-serif;\n            font-size: 1.2rem;\n            position: absolute;\n            right: 20px;\n          }\n          #closeBtn:hover {\n            color: #000;\n          }\n        \t#actionBtn {\n            background-color: lightgray;\n            border-radius: 5px;\n            border: 1px solid #333;\n            color: #333;\n            display: flex;\n            font-family: sans-serif;\n            font-size: 13pt;\n            height: 30px;\n            justify-content: center;\n            padding-top: 3px;\n            position: fixed;\n            right: -65px;\n            top: 50%;\n            transform: rotate(-90deg);\n            min-width: 150px;\n        }\n        #cancelBtn, #sendBtn {\n          background: #f7f7f7;\n          border-radius: 3px;\n          border: 1px solid #b3adad;\n          color: #333;\n          padding: 10px 20px;\n        }\n        #cancelBtn:hover, #sendBtn:hover {\n          background: #eee;\n        }\n        #captureErrorMsg {\n          text-align: center;\n          color: darkred;\n        }\n        #preview {\n          display: block;\n          margin-left: auto;\n          margin-right: auto;\n        }\n        </style>\n        <screenshot-button></screenshot-button>\n        <button id=\"actionBtn\"></button>\n        <section id=\"popup\">\n          <main>\n            <button id=\"closeBtn\">X</button>\n            <div>\n                <img id=\"preview\" src=\"\" alt=\"Screenshot preview\"/>\n                <em id=\"captureErrorMsg\"></em>\n                <textarea id=\"message\" rows=\"5\" placeholder=\"${textareaPlaceholderText}\"></textarea>\n                <div style=\" text-align: center; \">\n                  <button id=\"cancelBtn\">${cancelText}</button>\n                  <button id=\"sendBtn\" style=\" font-weight: bold; \">${sendButtonText}</button>\n                </div>\n              </div>\n          </main>\n        </section>\n      `;\n\n    #screenshotButton;\n    #previewImg;\n    #captureErrorMsg;\n    #popup;\n    #screenshotAsBlob;\n    #textarea;\n    #sendBtn;\n    #sendTimeout;\n    #sendTimeoutHandle;\n\n    constructor() {\n      super();\n\n      const text = this.attributes.getNamedItem('text')?.value || 'Bug Report';\n      this.#sendTimeout = this.attributes.getNamedItem('send-timeout')?.value || sendTimeoutDefault;\n\n      const shadowDom = this.attachShadow({\n        mode: 'open'\n      });\n      shadowDom.innerHTML = BugReportButton.#htmlContent;\n      const button = shadowDom.getElementById('actionBtn');\n      button.innerText = text;\n      button.onclick = this.#clickCallback.bind(this);\n\n      this.#screenshotButton = shadowDom.querySelector('screenshot-button');\n      this.#previewImg = shadowDom.getElementById('preview');\n      this.#captureErrorMsg = shadowDom.getElementById('captureErrorMsg');\n      this.#popup = shadowDom.getElementById('popup');\n      this.#sendBtn = shadowDom.getElementById('sendBtn');\n      this.#textarea = shadowDom.querySelector('textarea');\n      const closePopupFn = this.#hidePopup.bind(this);\n      shadowDom.getElementById('closeBtn').onclick = closePopupFn;\n      shadowDom.getElementById('cancelBtn').onclick = closePopupFn;\n\n      this.#sendBtn.onclick = this.#send.bind(this);\n      window.addEventListener(BugReportButton.SENDING_DONE_EVENT_NAME, this.#sendingDone.bind(this));\n    }\n\n    #clickCallback() {\n      this.#screenshotButton\n        .takeScreenshot()\n        .then(blob => {\n          this.#showPopup(blob);\n          this.#screenshotAsBlob = blob;\n        })\n        .catch(e => {\n          console.error('bug-report-button:', e);\n          this.#showPopup(null, e);\n        });\n    }\n\n    #showPopup(blob, error) {\n      const imgEl = this.#previewImg;\n      imgEl.removeAttribute('width');\n      imgEl.onload = null;\n\n      if (blob) {\n        imgEl.src = URL.createObjectURL(blob);\n        imgEl.onload = () => {\n          imgEl.width = imgEl.width * 0.4;\n        };\n      } else {\n        imgEl.src = noPermitScreenCaptureImgUrl;\n        this.#captureErrorMsg.innerText = `${errorText}: ${error}`;\n      }\n\n      this.#popup.style.display = 'block';\n    }\n\n    #hidePopup() {\n      this.#popup.style.display = 'none';\n      this.#captureErrorMsg.innerText = '';\n      this.#screenshotAsBlob = null;\n    }\n\n    #send() {\n      const payload = {\n        screenshot: this.#screenshotAsBlob,\n        message: this.#textarea.value\n      };\n      window.dispatchEvent(new CustomEvent(BugReportButton.SEND_EVENT_NAME, {detail: payload}));\n      this.#startLoading();\n    }\n\n    #sendingDone(e) {\n      clearTimeout(this.#sendTimeoutHandle);\n      const eventDetail = e.detail;\n      this.#endLoading(eventDetail?.message, eventDetail?.success, eventDetail?.keepPopupOpenOnSuccess);\n    }\n\n    #startLoading() {\n      this.#sendBtn.innerText = sendButtonLoadingText;\n      this.shadowRoot.querySelectorAll('button, textarea').forEach(el => el.disabled = true);\n\n      if (this.#sendTimeout > 0) {\n        this.#sendTimeoutHandle = setTimeout(() => {\n          window.dispatchEvent(new CustomEvent(BugReportButton.SENDING_DONE_EVENT_NAME, {detail: {message: timeoutErrorMessage}}))\n        }, this.#sendTimeout);\n      }\n    }\n\n    #endLoading(message, success, keepPopupOpenOnSuccess) {\n      this.shadowRoot.querySelectorAll('button, textarea').forEach(el => el.disabled = false);\n      this.#sendBtn.innerText = sendButtonText;\n\n      if (success === true && keepPopupOpenOnSuccess !== true) {\n        this.#hidePopup();\n      }\n    }\n\n  }\n\n  window.customElements.define('bug-report-button', BugReportButton);\n  exportedClass = BugReportButton;\n} else {\n  class BugReportButton {\n\n    static SEND_EVENT_NAME = 'BugReportButton:Send'\n\n    static SENDING_DONE_EVENT_NAME = 'BugReportButton:SendingDone'\n  }\n  exportedClass = BugReportButton;\n}\n\nexport default exportedClass;\n", "const tr = {\n\tfeedbackButtonText: \"Hata bildir\",\n\tsendBtnText: \"Hatay\u0131 G\u00F6nder\",\n\tsendBtnLoading: \"L\u00FCtfen bekleyiniz...\",\n\tsuccessMessage: \"Hata kayd\u0131n\u0131z (TICKET_KEY) g\u00F6nderildi. Te\u015Fekk\u00FCr ederiz.\",\n\tsendErrorMessage: \"Hata kayd\u0131n\u0131z g\u00F6nderilemedi!\\nL\u00FCtfen bu mesaj\u0131 kapatt\u0131ktan sonra indirilen log dosyas\u0131n\u0131 yetkililere kendiniz iletin.\",\n\tclose: 'Kapat',\n\tcancel: '\u0130ptal',\n\tdescPlaceholder: 'Hata hakk\u0131nda a\u00E7\u0131klama (\u0130ste\u011Fe ba\u011Fl\u0131)',\n\tauthTokenNotFound: 'Eri\u015Fim token\\'\u0131 bulunamad\u0131!',\n\tloadingScreenshot: 'Ekran g\u00F6r\u00FCnt\u00FCs\u00FC y\u00FCkleniyor, l\u00FCtfen bekleyiniz...',\n}\n\nconst en = {\n\tfeedbackButtonText: \"Report a bug\",\n\tsendBtnText: \"Send bug report\",\n\tsendBtnLoading: \"Please wait...\",\n\tsuccessMessage: \"Your bug report (TICKET_KEY) is sent. Thank you.\",\n\tsendErrorMessage: \"Could not send bug report!\\nPlease send the log file that will be downloaded after closing this message to site admin yourself.\",\n\tclose: 'Close',\n\tcancel: 'Cancel',\n\tdescPlaceholder: 'Optional description of the bug',\n\tauthTokenNotFound: 'Access token not available!',\n\tloadingScreenshot: 'Loading screenshot, please wait...',\n}\n\nconst translations = {\n\ttr: tr,\n\ten: en,\n}\n\nfunction t(key, params) {\n  const text = translations.tr[key];\n  if (text) {\n  \tif (params) {\n  \t\treturn Object.keys(params).reduce((prev, curr) => prev.replace(curr, params[curr]), text);\n  \t}\n  \treturn text;\n  }\n  return `{??${key}??}`;\n}\n\nexport default t;\n", "import {IS_ON_BROWSER} from \"./isSSR\";\nimport t from \"./translations\";\nimport {AUTH_TOKEN_READY_EVENT_NAME} from \"./eventNames\";\n\nlet token = null;\n\nexport default function getToken() {\n\tif (token) {\n\t\treturn token;\n\t}\n\talert(t('authTokenNotFound'));\n}\n\nif (IS_ON_BROWSER) {\n\twindow.addEventListener(AUTH_TOKEN_READY_EVENT_NAME, e => {\n\t\ttoken = e.detail;\n\t});\n}\n", "export default function downloadFile(blob) {\n  const fileUrl = URL.createObjectURL(blob);\n\n  const element = document.createElement('a');\n  element.setAttribute('href', fileUrl); //file location\n  element.setAttribute('download', blob.name); // file name\n  element.style.display = 'none';\n\n  document.body.appendChild(element);\n  element.click();\n  document.body.removeChild(element);\n};\n\n/*\nexport default function downloadFile(filename, content, mimeType = 'plain/text') {\n  const blob = new Blob([content], { type: mimeType });\n  const fileUrl = URL.createObjectURL(blob);\n\n  const element = document.createElement('a');\n  element.setAttribute('href', fileUrl); //file location\n  element.setAttribute('download', filename); // file name\n  element.style.display = 'none';\n\n  document.body.appendChild(element);\n  element.click();\n  document.body.removeChild(element);\n};\n */\n", "import {clearLogs} from \"./consoleInterceptor\";\nimport getToken from \"./token\";\nimport t from \"./translations\";\nimport downloadFile from \"./downloadFile\";\nimport {IS_SSR} from \"./isSSR\";\nimport {payloadsReadyOrTimeout} from \"./payloadsFromIframes\";\nimport {getPayload} from \"./preparePayload\";\nimport isDebugEnabled from \"./isDebugEnabled\";\n\nconst CONSOLE_LABEL = \"Ulak\";\nconst hostname = IS_SSR ? \"SSR\" : new URL(location.href).hostname\n\nlet API_URL;\nif(hostname.endsWith('grispi.com')){\n  API_URL = 'https://api.grispi.com';\n} else if(hostname.endsWith('grispi.dev')){\n  API_URL = 'https://api.grispi.dev';\n} else {\n  API_URL = 'http://localhost:8080';\n}\n\nexport default async function send(doneCallback) {\n\n  const payloadsFromIframesPromise = payloadsReadyOrTimeout();\n  const payloadPromise = getPayload();\n  const allPayloadsResults = await Promise.allSettled([payloadsFromIframesPromise, payloadPromise]);\n  console.log('allPayloadsResults', allPayloadsResults)\n  const successfulResults = allPayloadsResults.filter(r => r.status === 'fulfilled')\n  const iframePayloads = successfulResults.filter(r => Array.isArray(r.value)).flatMap(r => r.value);\n  const payload = successfulResults.find(r => !Array.isArray(r.value)).value;\n\n  const fd = prepareFormData(payload, iframePayloads);\n\n  fetch(`${API_URL}/feedback`, {\n    method: 'POST',\n    body: fd,\n    headers: {\n      'Authorization': `Bearer ${getToken()}`,\n      'tenantId': window.location.host.split('.')[0]\n    }\n  })\n    .then(\n      function (response) {\n        if (response.status !== 200) {\n          console.error(CONSOLE_LABEL, 'Error in response. Response:', response);\n\n          // This doesn't seem to work correctly on forms that have multiple fields with same name but we don't have such a case\n          // https://stackoverflow.com/questions/41431322/how-to-convert-formdata-html5-object-to-json#comment102116212_55874235\n          handleForManualSending(fd);\n          doneCallback(false, t('sendErrorMessage'));\n          return;\n        }\n\n        response.text().then(function (text) {\n          clearLogs();\n          doneCallback(true, t('successMessage', {TICKET_KEY: text}));\n        });\n      })\n    .catch(function (err) {\n      console.error(CONSOLE_LABEL, 'Fetch Error', err);\n      handleForManualSending(fd);\n      doneCallback(false, t('sendErrorMessage'));\n    });\n  // end of fetch\n}\n\nfunction prepareFormData(payload, iframePayloads) {\n  isDebugEnabled() && console.debug(CONSOLE_LABEL, 'payload, iframePayloads', payload, iframePayloads);\n\n  const description = payload.message;\n  // We will keep the message in payload object as well so that in offline file download mode\n  // the 'description' info is not lost\n\n  const fd = new FormData();\n  fd.append('description', description);\n  fd.append('meta', payload.meta);\n\n  [payload, iframePayloads].flat().forEach(p => {\n\n    // don't use '.log' extension, chrome shows a scary warning trying to convince end users to discard the downloaded file\n    fd.append('files', getLogsAsBlob(p), `${p.fileName}.txt`);\n\n    // screenshotBlob maybe null\n    p.screenshot && fd.append('files', p.screenshot, `${p.fileName}_screenshot.png`);\n  });\n\n  return fd;\n}\n\nfunction handleForManualSending(formData) {\n  for (let pair of formData.entries()) {\n    if (pair[0] === 'files') {\n      downloadFile(pair[1]);\n    }\n  }\n}\n\nfunction getLogsAsBlob(payload) {\n  const description = payload.description ? `Description:\\n\\n${payload.description}\\n\\n` : '';\n  const meta = `Meta:\\n\\n${payload.meta}\\n\\n`;\n  const cookie = `Cookie:\\n\\n${payload.cookie}\\n\\n`;\n  const lStorage = `LocalStorage:\\n\\n${payload.lStorage}\\n\\n`;\n  const sStorage = `SessionStorage:\\n\\n${payload.sStorage}\\n\\n`;\n  const logs = payload.logs;\n  return new Blob([meta, description, cookie, lStorage, sStorage, logs], { type: 'plain/text' });\n}\n", "import {IS_SSR} from \"./isSSR\";\nimport {PREPARE_PAYLOAD_REQUEST, RETRIEVE_PAYLOAD_REQUEST, RETRIEVE_PAYLOAD_RESPONSE} from \"./eventNames\";\nimport {preparePayload, getPayload} from \"./preparePayload\";\nimport {payloadRetrieved, preparePayloadForIframes} from \"./payloadsFromIframes\";\nimport isDebugEnabled from \"./isDebugEnabled\";\nimport BugReportButton from \"./bug-report-button/bug-report-button\";\nimport send from \"./logSender\";\n\nconst CONSOLE_LABEL = \"Ulak\";\n\nfunction sendDoneCallback(success, message) {\n\twindow.dispatchEvent(new CustomEvent(BugReportButton.SENDING_DONE_EVENT_NAME, {detail: {success, message}}));\n}\n\nexport default function registerEventHandlers() {\n\tif (IS_SSR) {\n\t\treturn;\n\t}\n\n\twindow.addEventListener(BugReportButton.SEND_EVENT_NAME, evt => {\n\n\t\tpreparePayloadForIframes();\n\t\tpreparePayload(evt.detail.screenshot, evt.detail.message)\n\t\t\t.then(() => {\n\t\t\t\tsend(sendDoneCallback);\n\t\t\t});\n\t});\n\n\tisDebugEnabled() && console.debug(CONSOLE_LABEL, 'Registering message handler.');\n\twindow.addEventListener(\"message\", async (e) => {\n\t\tconst origin = e.origin;\n\t\tconst source = e.source;\n\t\tconst eventData = e.data;\n\n\t\tif (ignoreEvent(e)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (isNotTrusted(origin)) {\n\t\t\tisDebugEnabled() && console.debug(CONSOLE_LABEL, `Event from '${origin}' is not trusted, ignoring...`);\n\t\t\treturn;\n\t\t}\n\t\tif (typeof eventData !== 'object' || typeof eventData.type !== 'string' || eventData.type.length === 0) {\n\t\t\tisDebugEnabled() && console.debug(CONSOLE_LABEL, `Event data from '${origin}' is invalid.`, eventData);\n\t\t\treturn;\n\t\t}\n\n\t\tconst type = eventData.type;\n\n\t\tisDebugEnabled() && console.debug(CONSOLE_LABEL, 'eventHandlers', window.location.href, eventData.type, eventData.data);\n\n\t\tswitch (type) {\n\t\t\tcase PREPARE_PAYLOAD_REQUEST: {\n\t\t\t\tpreparePayload();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase RETRIEVE_PAYLOAD_REQUEST: {\n\t\t\t\tconst response = {\n\t\t\t\t\ttype: RETRIEVE_PAYLOAD_RESPONSE,\n\t\t\t\t\tpayload: await getPayload()\n\t\t\t\t};\n\t\t\t\tconsole.log('response.payload.screenshot', response.payload.screenshot)\n\t\t\t\tsource.postMessage(response, origin);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase RETRIEVE_PAYLOAD_RESPONSE: {\n\t\t\t\tpayloadRetrieved(eventData.payload);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tisDebugEnabled() && console.debug(CONSOLE_LABEL, `Invalid event type: '${type}'.`);\n\t\t}\n\t});\n}\n\nfunction isNotTrusted(origin) { // @customizationCandidate: function isTrusted(origin: string): boolean\n\tisDebugEnabled() && console.debug(CONSOLE_LABEL, `Checking if '${origin}' is trusted or not.`);\n\treturn false; // FIXME\n}\n\n// @customizationCandidate: function ignoreEvent(e: MessageEvent): boolean\nconst IGNORE_EVENTS = ['react-devtools-content-script', 'react-devtools-bridge'];\nfunction ignoreEvent(e/*: MessageEvent*/) {\n\treturn IGNORE_EVENTS.includes(e?.data?.source);\n}\n", "import {LONG_VERSION} from './version';\nimport {IS_SSR, IS_ON_BROWSER} from \"./isSSR\";\nimport registerEventHandlers from \"./eventHandlers\";\n\nexport const STORAGE_KEY = \"UlakLog\";\nconst STRING_STORAGE_THRESHOLD = 200_000; //Don't let this to be customized\nconst CONSOLE_LABEL = \"Ulak\";\nconst NOOP = function(){}\n\nconst LOG_TYPE = {\n  trace: 'T',\n  debug: 'D',\n  log: 'L',\n  info: 'I',\n  warn: 'W',\n  error: 'E'\n}\n\nconst logOriginal = IS_SSR ? NOOP : console.log.bind(window.console);\nconst traceOriginal = IS_SSR ? NOOP : console.trace.bind(window.console);\nconst debugOriginal = IS_SSR ? NOOP : console.debug.bind(window.console);\nconst infoOriginal = IS_SSR ? NOOP : console.info.bind(window.console);\nconst warnOriginal = IS_SSR ? NOOP : console.warn.bind(window.console);\nconst errorOriginal = IS_SSR ? NOOP : console.error.bind(window.console);\n\nconst startTime = Date.now();\n\nlet allLogs = \"\";\nlet consoleIntercepted = false;\nlet quotaExceeded = false;\nlet storageKeyIndex = 0;\n\n// When quotaExceeded, then we start to overwrite old sessionStorage buckets. In that case storageKeyIndex won't show\n//the latest index.\nlet storageMaxKeyIndex = 0;\n\nregisterEventHandlers();\n\nfunction parseLog(args, logType) {\n  let s = [Date.now() - startTime, logType];\n  for (const a of args) {\n    if (typeof a === \"undefined\") {\n      s.push(\"undefined\");\n    }\n    else if (typeof a === \"object\") {\n      if (a instanceof Error) {\n        s.push(a.stack || a.toString());\n      }\n      else {\n        s.push(JSON.stringify(a));\n      }\n    }\n    else if (typeof a === \"boolean\") {\n      s.push(a);\n    }\n    else if (typeof a === \"number\") {\n      s.push(a);\n    }\n    else if (typeof a === \"bigint\") {\n      s.push(a);\n    }\n    else if (typeof a === \"string\") {\n      s.push(a);\n    }\n    else if (typeof a === \"symbol\") {\n      s.push(a);\n    }\n    else if (typeof a === \"function\") {\n      s.push(`[Function ${a.name}]`);\n    }\n    else {\n      s.push(`[Unrecognized type ${a}]`)\n    }\n  }\n\n  return s.join(' ');\n}\n\nfunction persist(log) {\n\n  allLogs += \"\\n\" + log;\n\n  if (allLogs.length < STRING_STORAGE_THRESHOLD) return;\n\n  try {\n    const currentStorageKey = STORAGE_KEY + (storageKeyIndex++);\n    storageMaxKeyIndex = Math.max(storageMaxKeyIndex, storageKeyIndex);\n    infoOriginal(CONSOLE_LABEL, 'writing to storage', currentStorageKey);\n\n    // There will be some log loss but this trimming will increase the chances of successful write w/o another quotaExceeded exception\n    sessionStorage.setItem(currentStorageKey, allLogs.substring(allLogs.length - STRING_STORAGE_THRESHOLD));\n    allLogs = \"\";\n    infoOriginal(CONSOLE_LABEL, 'written to storage', currentStorageKey);\n  }\n  catch(e) {\n    quotaExceeded = true;\n\n    // currentStorageKeyIsUsed would be true when quotaExceeded before and we started to overwrite session storage buckets\n    // Say there's already UlakLog0, UlakLog1 then when trying to create UlakLog3 we got quotaExceeded exception.\n    //Then we clear UlakLog0, set storageKeyIndex=0 and move on. After a while we try to write to UlakLog1 and get an exception.\n    //In that case we shouldn't clear UlakLog0 but we should clear UlakLog1 and write to it.\n    //UlakLog1 was used before we got the first quotaExceeded exception hence it's not empty. Hence, we don't change storageKeyIndex\n    // which is currently 1 so we clear UlakLog1 and write to it (in the next log).\n    const currentStorageKeyIsUsed = !!sessionStorage.getItem(STORAGE_KEY + storageKeyIndex);\n    if (!currentStorageKeyIsUsed) {\n      storageKeyIndex = 0;\n    }\n\n    sessionStorage.removeItem(STORAGE_KEY + storageKeyIndex);\n\n    console.error(`Session storage is full. e.code '${e.code}' e.name ${e.name}`);\n    // We expect => e.code == 22 && e.name == 'QuotaExceededError'\n    // https://developer.mozilla.org/en-US/docs/Web/API/DOMException#error_names\n  }\n}\n\nfunction _log(args, logType) {\n  const log = parseLog(args, logType);\n  persist(log);\n}\n\nexport function log() {\n  _log(arguments, LOG_TYPE.log)\n}\n\nexport function trace() {\n  // TODO get the actual stack https://stackoverflow.com/a/6715624/878361\n  _log(arguments, LOG_TYPE.trace)\n}\n\nexport function debug() {\n  _log(arguments, LOG_TYPE.debug)\n}\n\nexport function info() {\n  _log(arguments, LOG_TYPE.info)\n}\n\nexport function warn() {\n  _log(arguments, LOG_TYPE.warn)\n}\n\nexport function error() {\n  _log(arguments, LOG_TYPE.error)\n}\n\nexport function getLogs() {\n  const allLogsFromStorage = [];\n  for (let i = 0; i < storageMaxKeyIndex; i++) {\n    const logsFromStorage = sessionStorage.getItem(STORAGE_KEY + i);\n    if (logsFromStorage) {\n      allLogsFromStorage.push(logsFromStorage);\n    }\n  }\n  const quotaMessage = quotaExceeded ? `[Session storage quota exceeded, logs may be not ordered by time!]\\n` : '';\n  const startTimeMessage = `\\nStart time: ${startTime}\\n`;\n  return LONG_VERSION + startTimeMessage + quotaMessage + allLogsFromStorage.join('') + allLogs;\n}\n\nexport function clearLogs() {\n  allLogs = \"\";\n  for (let i = 0; i < storageMaxKeyIndex; i++) {\n    sessionStorage.removeItem(STORAGE_KEY + i);\n  }\n  storageKeyIndex = 0;\n  storageMaxKeyIndex = 0;\n  quotaExceeded = false;\n}\n\nexport function interceptConsole() {\n  if (!consoleIntercepted && IS_ON_BROWSER) {\n\n    // console.log\n    window.console.log = function() {\n      logOriginal.apply(window.console, arguments);\n      log.apply(null, arguments);\n    }\n\n    // console.trace\n    window.console.trace = function() {\n      traceOriginal.apply(window.console, arguments);\n      trace.apply(null, arguments);\n    }\n\n    // console.debug\n    window.console.debug = function() {\n      debugOriginal.apply(window.console, arguments);\n      debug.apply(null, arguments);\n    }\n\n    // console.info\n    window.console.info = function() {\n      infoOriginal.apply(window.console, arguments);\n      info.apply(null, arguments);\n    }\n\n    // console.warn\n    window.console.warn = function() {\n      warnOriginal.apply(window.console, arguments);\n      warn.apply(null, arguments);\n    }\n\n    // console.error\n    window.console.error = function() {\n      errorOriginal.apply(window.console, arguments);\n      error.apply(null, arguments);\n    }\n\n    consoleIntercepted = true;\n  }\n  else {\n    warnOriginal(CONSOLE_LABEL, 'Console is already intercepted!');\n  }\n}\n"],
  "mappings": "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",
  "names": ["src_exports", "__export", "clearLogs", "getLogs", "interceptConsole", "__toCommonJS", "VERSION", "LONG_VERSION", "IS_ON_BROWSER", "IS_SSR", "EVENT_NAME_PREFIX", "AUTH_TOKEN_READY_EVENT_NAME", "PREPARE_PAYLOAD_REQUEST", "RETRIEVE_PAYLOAD_REQUEST", "RETRIEVE_PAYLOAD_RESPONSE", "TENANT_ID", "IS_SSR", "getTenantId", "generateFileName", "logsReadyPromise", "payload", "preparePayload", "screenshotBlob", "message", "resolve", "reject", "meta", "calculateMeta", "lStorage", "sStorage", "serializeSessionStorageWithoutUlakData", "cookie", "fileName", "generateFileName", "logs", "getLogs", "getPayload", "sStorageClone", "key", "STORAGE_KEY", "now", "isDebugEnabled", "CONSOLE_LABEL", "TIMEOUT", "counter", "payloads", "payloadRequested", "isDebugEnabled", "payloadRetrieved", "payload", "payloadsReadyOrTimeout", "el", "RETRIEVE_PAYLOAD_REQUEST", "requestedAt", "resolve", "reject", "intervalHandler", "elapsed", "preparePayloadForIframes", "PREPARE_PAYLOAD_REQUEST", "e", "exportedClass", "ScreenshotButton", "#htmlContent", "#text", "#useComputedStyle", "#timeout", "#previewTargetScale", "#video", "#canvas", "#screenshot", "#removeAttributes", "#optionsFromAttributes", "startButton", "computedStyle", "key", "#previewTarget", "options", "isFromInternalEvent", "timeout", "resolve", "reject", "stream", "streamSettings", "blob", "previewTarget", "track", "err", "exportedClass", "textareaPlaceholderText", "sendButtonText", "sendButtonLoadingText", "cancelText", "errorText", "timeoutErrorMessage", "sendTimeoutDefault", "noPermitScreenCaptureImgUrl", "BugReportButton", "#htmlContent", "#screenshotButton", "#previewImg", "#captureErrorMsg", "#popup", "#screenshotAsBlob", "#textarea", "#sendBtn", "#sendTimeout", "#sendTimeoutHandle", "text", "shadowDom", "button", "#clickCallback", "closePopupFn", "#hidePopup", "#send", "#sendingDone", "blob", "#showPopup", "e", "error", "imgEl", "payload", "#startLoading", "eventDetail", "#endLoading", "el", "message", "success", "keepPopupOpenOnSuccess", "bug_report_button_default", "tr", "en", "translations", "t", "key", "params", "text", "prev", "curr", "translations_default", "token", "getToken", "translations_default", "IS_ON_BROWSER", "AUTH_TOKEN_READY_EVENT_NAME", "downloadFile", "blob", "fileUrl", "element", "CONSOLE_LABEL", "hostname", "IS_SSR", "API_URL", "send", "doneCallback", "payloadsFromIframesPromise", "payloadsReadyOrTimeout", "payloadPromise", "getPayload", "allPayloadsResults", "successfulResults", "iframePayloads", "payload", "fd", "prepareFormData", "getToken", "response", "handleForManualSending", "translations_default", "text", "clearLogs", "err", "isDebugEnabled", "description", "p", "getLogsAsBlob", "formData", "pair", "downloadFile", "meta", "cookie", "lStorage", "sStorage", "logs", "CONSOLE_LABEL", "sendDoneCallback", "success", "message", "bug_report_button_default", "registerEventHandlers", "IS_SSR", "evt", "preparePayloadForIframes", "preparePayload", "send", "isDebugEnabled", "origin", "source", "eventData", "ignoreEvent", "isNotTrusted", "type", "PREPARE_PAYLOAD_REQUEST", "RETRIEVE_PAYLOAD_REQUEST", "response", "RETRIEVE_PAYLOAD_RESPONSE", "getPayload", "payloadRetrieved", "IGNORE_EVENTS", "STORAGE_KEY", "STRING_STORAGE_THRESHOLD", "CONSOLE_LABEL", "NOOP", "LOG_TYPE", "logOriginal", "IS_SSR", "traceOriginal", "debugOriginal", "infoOriginal", "warnOriginal", "errorOriginal", "startTime", "allLogs", "consoleIntercepted", "quotaExceeded", "storageKeyIndex", "storageMaxKeyIndex", "registerEventHandlers", "parseLog", "args", "logType", "s", "a", "persist", "log", "currentStorageKey", "e", "_log", "trace", "debug", "info", "warn", "error", "getLogs", "allLogsFromStorage", "i", "logsFromStorage", "quotaMessage", "startTimeMessage", "LONG_VERSION", "clearLogs", "interceptConsole", "IS_ON_BROWSER", "LONG_VERSION"]
}
